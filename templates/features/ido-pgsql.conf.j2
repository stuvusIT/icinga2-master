// {{ ansible_managed }}

library "db_ido_pgsql"

object IdoPgsqlConnection "ido-pgsql" {
	host = "{{ icinga2_feature_idopgsql_host }}"
	port = {{ icinga2_feature_idopgsql_port }}
	user = "{{ icinga2_feature_idopgsql_user }}"
	password = "{{ icinga2_feature_idopgsql_password }}"
	database = "{{ icinga2_feature_idopgsql_database }}"
	instance_name = "{{ icinga2_feature_idopgsql_instance_name }}"
	enable_ha = {{ icinga2_feature_idopgsql_ha | lower }}
	failover_timeout = {{ icinga2_feature_idopgsql_failover_timeout }}
	cleanup = {
		{% for item,age in icinga2_feature_idogpsql_cleanup -%}
			{{ item }} = {{ age }}
		{%- endfor %}
	}
}
